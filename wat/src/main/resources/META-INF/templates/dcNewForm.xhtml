<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<ui:composition>
    <h:panelGrid id="dcNewGrid" columns="1" cellpadding="3" styleClass="ui-widget-content grid arianeDialogGrid">
        <h:outputText value="Name" styleClass="arianeDialogLabel"/>
        <p:inputText id="name" label="Name" required="true" value="#{datacenterNewController.name}"/>
        <h:outputText value="Address" styleClass="arianeDialogLabel"/>
        <p:inputTextarea id="address" styleClass="arianeDialogInputTitle" label="Description" required="true" autoResize="false" style="resize:none" value="#{datacenterNewController.address}"/>
        <h:outputText value="Zip Code" styleClass="arianeDialogLabel"/>
        <p:inputText id="zipCode" label="ZipCode" required="true" value="#{datacenterNewController.zipCode}"/>
        <h:outputText value="Town" styleClass="arianeDialogLabel"/>
        <p:inputText id="town" label="Town" required="true" value="#{datacenterNewController.town}"/>
        <h:outputText value="Country" styleClass="arianeDialogLabel"/>
        <p:inputText id="country" label="Country" required="true" value="#{datacenterNewController.country}"  onblur="GetLocation()"/>
        <h:outputText value="GPS latitude" styleClass="arianeDialogLabel"/>
        <p:inputText id="gpsLatitude" label="GpsLatitude" required="true" value="#{datacenterNewController.gpsLatitude}"/>
        <h:outputText value="GPS longitude" styleClass="arianeDialogLabel"/>
        <p:inputText id="gpsLongitude" label="GpsLongitude" required="true" value="#{datacenterNewController.gpsLongitude}"/>
        <h:outputText value="Description" styleClass="arianeDialogLabel"/>
        <p:inputTextarea id="description" styleClass="arianeDialogInputTitle" label="Description" required="true" autoResize="false" style="resize:none" value="#{datacenterNewController.description}"/>
    </h:panelGrid>

    <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=false"></script>
    <script type="application/javascript">

        function GetLocation() {
            var geocoder = new google.maps.Geocoder();
            var addresstxtarea = document.getElementById("createDCDialogForm:address").value;
            var town = document.getElementById("createDCDialogForm:town").value;
            var country = document.getElementById("createDCDialogForm:country").value;
            var zipCode = document.getElementById("createDCDialogForm:zipCode").value;
            var address = addresstxtarea +" "+ town +" "+ country +" "+ zipCode;
            var gpsLatitude = document.getElementById("createDCDialogForm:gpsLatitude");
            var gpsLongitude = document.getElementById("createDCDialogForm:gpsLongitude");

            geocoder.geocode({ 'address': address }, function (results, status) {
                if (status == google.maps.GeocoderStatus.OK) {
                    gpsLatitude.value = results[0].geometry.location.lat();
                    gpsLongitude.value = results[0].geometry.location.lng();
                } else {
                    gpsLatitude.value = null;
                    gpsLongitude.value = null;
                }
            });
        };
    </script>

</ui:composition>
</html>